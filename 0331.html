<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>预览图片文件</title>
</head>
<body>
	<form id="fileForm">
		<legend>预览图片文件</legend>
		<input id="fileUpload" type="file" onchange="yulan(this.files)" multiple="true"></input>
		<ul id="yulanP"></ul>
	</form>
	<script type="text/javascript">
		function $$(id){
			return document.getElementById(id);
		}
		var strHTML = "";
		function yulan(f){
			//检测浏览器是否支持FileReader对象
			if(typeof FileReader == 'undefined'){
				alert("检测到浏览器不支持FileReader对象");
			}
			for(var i=0;i<f.length;i++){
				var tmpFile = f[i];
				var reader = new FileReader();
				reader.readAsDataURL(tmpFile);
				reader.onload = function(e){
					strHTML = strHTML + "<span>";
					strHTML = strHTML + "<img src='" + e.target.result + "' alt='' />";
					strHTML = strHTML + "</span>";
					$$("yulanP").innerHTML = "<li> " +strHTML + "</li>";
				}
			}
		}
	</script>
</body>
</html>